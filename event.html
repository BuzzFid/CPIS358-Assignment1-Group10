<!DOCTYPE html>
<html>

<head>
    <title>FCIT Event Finder</title>
    <link rel="stylesheet" href="EventStyle.css">

    <style>
#eventsTable {
    width: 80%;
    margin: 20px auto;
    border-collapse: collapse;
    
}

#eventsTable th {
    border: 1px solid white;
    padding: 10px;
    font-size: 18px;
    font-weight: bold;
    text-align: center;
    
}

#eventsTable td {
    border: 1px solid white;
    padding: 8px;
    font-size: 16px;
    text-align: center;
    color: #fefcfc;
}

    </style>

    <script type="text/javascript">
        // read values that came from login.html 
        var searchParams = new URLSearchParams(window.location.search);
        var savedEmail = searchParams.get("email");
        var savedUsername = searchParams.get("username");
        var savedPassword = searchParams.get("password");

        var loggedIn = false;

        function addEvent() {

            // if we don't even have username/password from login.html
            if (!savedUsername || !savedPassword) {
                window.alert("Please login first from the login page.");
                window.location.href = "login.html";
                return;
            }

            // if not yet logged in via prompt, ask now
            if (!loggedIn) {
                var u = window.prompt("Enter your username:");
                if (u === null) return; 

                var p = window.prompt("Enter your password:");
                if (p === null) return;

                
                if (u === savedUsername && p === savedPassword) {
                    loggedIn = true;
                    window.alert("Login successful. You can add events now.");
                } else {
                    window.alert("Wrong username or password.");
                    return;
                }
            }

            // ask for event information
            var name = window.prompt("Event name:");
            if (name === null) return;

            var place = window.prompt("Place:");
            if (place === null) return;

            var date = window.prompt("Date:");
            if (date === null) return;

            var more = window.prompt("More details:");
            if (more === null) return;

// create new table
var row = document.createElement("tr");

row.innerHTML =
    "<td>" + name + "</td>" +
    "<td>" + place + "</td>" +
    "<td>" + date + "</td>" +
    "<td>" + more + "</td>";


document.getElementById("eventsBody").appendChild(row);
        }
    </script>
</head>

<body>

    <header class="main-header">
        <h1>Welcome to the FCIT Event Finder Page</h1>
        <nav>
            <a class="linkcolors" href="about.html">About Us</a>
            <a class="linkcolors" href="contact.html">Contact</a>
        </nav>
    </header>

    <main>

    <section id="eventsSection">
<table id="eventsTable">
    <thead>
        <tr>
            <th>Event Name</th>
            <th>Place</th>
            <th>Date</th>
            <th>More Details</th>
        </tr>
    </thead>
    <tbody id="eventsBody">
        
    </tbody>
</table>


        
        <tbody id="eventsBody">
            
        </tbody>
    </table>
</section>


        <section id="addEventSection">
            <button id="addBtn" type="button" onclick="addEvent()">+</button>
            <p>You must have an account to login and add events.</p>
        </section>

    </main>

</body>

</html>
